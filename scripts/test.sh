#!/usr/bin/env bash
d="$( cd "$( dirname "$0" )" || exit 1; cd ..; pwd )"
set -x
set -e

source "$d/scripts/test_common.sh"

wax="$d/cmd/wax/wax"
spec_core_test="$d/vendor/WebAssembly/spec/test/core"

bash "$d/scripts/standard-test-i32.sh"

#a="$( $wax -f "add" -a "i32:1"          -a "i32:1"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000002 2 2"
#a="$( $wax -f "add" -a "i32:1"          -a "i32:0"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#a="$( $wax -f "add" -a "i32:-1"         -a "i32:-1"         "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0xfffffffe 4294967294 -2"
#a="$( $wax -f "add" -a "i32:-1"         -a "i32:1"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "add" -a "i32:0x7fffffff" -a "i32:1"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x80000000 2147483648 -2147483648"
#a="$( $wax -f "add" -a "i32:0x80000000" -a "i32:-1"         "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x7fffffff 2147483647 2147483647"
#a="$( $wax -f "add" -a "i32:0x80000000" -a "i32:0x80000000" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "add" -a "i32:0x3fffffff" -a "i32:1"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x40000000 1073741824 1073741824"
#
#a="$( $wax -f "sub" -a "i32:1"          -a "i32:1"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "sub" -a "i32:1"          -a "i32:0"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#a="$( $wax -f "sub" -a "i32:-1"         -a "i32:-1"         "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "sub" -a "i32:0x7fffffff" -a "i32:-1"         "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x80000000 2147483648 -2147483648"
#a="$( $wax -f "sub" -a "i32:0x80000000" -a "i32:1"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x7fffffff 2147483647 2147483647"
#a="$( $wax -f "sub" -a "i32:0x80000000" -a "i32:0x80000000" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "sub" -a "i32:0x3fffffff" -a "i32:-1"         "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x40000000 1073741824 1073741824"
#
#a="$( $wax -f "mul" -a "i32:1"          -a "i32:1"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#a="$( $wax -f "mul" -a "i32:1"          -a "i32:0"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "mul" -a "i32:-1"         -a "i32:-1"         "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#a="$( $wax -f "mul" -a "i32:0x10000000" -a "i32:4096"       "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "mul" -a "i32:0x80000000" -a "i32:0"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "mul" -a "i32:0x80000000" -a "i32:-1"         "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x80000000 2147483648 -2147483648"
#a="$( $wax -f "mul" -a "i32:0x7fffffff" -a "i32:-1"         "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x80000001 2147483649 -2147483647"
#a="$( $wax -f "mul" -a "i32:0x01234567" -a "i32:0x76543210" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x358e7470 898528368 898528368"
#a="$( $wax -f "mul" -a "i32:0x7fffffff" -a "i32:0x7fffffff" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#
#set +e
#a="$( $wax -f "div_s" -a "i32:1"          -a "i32:0"        "$spec_core_test/i32.wasm" 2>&1 )"; assert_contains "$a" "div by 0"
#a="$( $wax -f "div_s" -a "i32:0"          -a "i32:0"        "$spec_core_test/i32.wasm" 2>&1 )"; assert_contains "$a" "div by 0"
#a="$( $wax -f "div_s" -a "i32:0x80000000" -a "i32:-1"       "$spec_core_test/i32.wasm" 2>&1 )"; assert_contains "$a" "integer overflow"
#a="$( $wax -f "div_s" -a "i32:0x80000000" -a "i32:0"        "$spec_core_test/i32.wasm" 2>&1 )"; assert_contains "$a" "div by 0"
#set -e
#a="$( $wax -f "div_s" -a "i32:1"          -a "i32:1"        "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#a="$( $wax -f "div_s" -a "i32:0"          -a "i32:1"        "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "div_s" -a "i32:0"          -a "i32:-1"       "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "div_s" -a "i32:-1"         -a "i32:-1"       "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#a="$( $wax -f "div_s" -a "i32:0x80000000" -a "i32:2"        "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0xc0000000 3221225472 -1073741824"
#a="$( $wax -f "div_s" -a "i32:0x80000001" -a "i32:1000"     "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0xffdf3b65 4292819813 -2147483"
#a="$( $wax -f "div_s" -a "i32:5"          -a "i32:2"        "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000002 2 2"
#a="$( $wax -f "div_s" -a "i32:-5"         -a "i32:2"        "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0xfffffffe 4294967294 -2"
#a="$( $wax -f "div_s" -a "i32:5"          -a "i32:-2"       "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0xfffffffe 4294967294 -2"
#a="$( $wax -f "div_s" -a "i32:-5"         -a "i32:-2"       "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000002 2 2"
#a="$( $wax -f "div_s" -a "i32:7"          -a "i32:3"        "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000002 2 2"
#a="$( $wax -f "div_s" -a "i32:-7"         -a "i32:3"        "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0xfffffffe 4294967294 -2"
#a="$( $wax -f "div_s" -a "i32:7"          -a "i32:-3"       "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0xfffffffe 4294967294 -2"
#a="$( $wax -f "div_s" -a "i32:-7"         -a "i32:-3"       "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000002 2 2"
#a="$( $wax -f "div_s" -a "i32:11"         -a "i32:5"        "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000002 2 2"
#a="$( $wax -f "div_s" -a "i32:17"         -a "i32:7"        "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000002 2 2"
#
#set +e
#a="$( $wax -f "div_u" -a "i32:1"          -a "i32:0"        "$spec_core_test/i32.wasm" 2>&1 )"; assert_contains "$a" "div by 0"
#a="$( $wax -f "div_u" -a "i32:0"          -a "i32:0"        "$spec_core_test/i32.wasm" 2>&1 )"; assert_contains "$a" "div by 0"
#set -e
#a="$( $wax -f "div_u" -a "i32:1"          -a "i32:1"        "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#a="$( $wax -f "div_u" -a "i32:0"          -a "i32:1"        "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "div_u" -a "i32:-1"         -a "i32:-1"       "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#a="$( $wax -f "div_u" -a "i32:0x80000000" -a "i32:-1"       "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "div_u" -a "i32:0x80000000" -a "i32:2"        "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x40000000 1073741824 1073741824"
#a="$( $wax -f "div_u" -a "i32:0x8ff00ff0" -a "i32:0x10001"  "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00008fef 36847 36847"
#a="$( $wax -f "div_u" -a "i32:0x80000001" -a "i32:1000"     "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x0020c49b 2147483 2147483"
#a="$( $wax -f "div_u" -a "i32:5"          -a "i32:2"        "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000002 2 2"
#a="$( $wax -f "div_u" -a "i32:-5"         -a "i32:2"        "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x7ffffffd 2147483645 2147483645"
#a="$( $wax -f "div_u" -a "i32:5"          -a "i32:-2"       "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "div_u" -a "i32:-5"         -a "i32:-2"       "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "div_u" -a "i32:7"          -a "i32:3"        "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000002 2 2"
#a="$( $wax -f "div_u" -a "i32:11"         -a "i32:5"        "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000002 2 2"
#a="$( $wax -f "div_u" -a "i32:17"         -a "i32:7"        "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000002 2 2"
#
#set +e
#a="$( $wax -f "rem_s" -a "i32:1"          -a "i32:0"        "$spec_core_test/i32.wasm" 2>&1 )"; assert_contains "$a" "div by 0"
#a="$( $wax -f "rem_s" -a "i32:0"          -a "i32:0"        "$spec_core_test/i32.wasm" 2>&1 )"; assert_contains "$a" "div by 0"
#set -e
#a="$( $wax -f "rem_s" -a "i32:0x7fffffff" -a "i32:-1"       "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "rem_s" -a "i32:1"          -a "i32:1"        "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "rem_s" -a "i32:0"          -a "i32:1"        "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "rem_s" -a "i32:0"          -a "i32:-1"       "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "rem_s" -a "i32:-1"         -a "i32:-1"       "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "rem_s" -a "i32:0x80000000" -a "i32:-1"       "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "rem_s" -a "i32:0x80000000" -a "i32:2"        "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "rem_s" -a "i32:0x80000001" -a "i32:1000"     "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0xfffffd79 4294966649 -647"
#a="$( $wax -f "rem_s" -a "i32:5"          -a "i32:2"        "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#a="$( $wax -f "rem_s" -a "i32:-5"         -a "i32:2"        "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0xffffffff 4294967295 -1"
#a="$( $wax -f "rem_s" -a "i32:5"          -a "i32:-2"       "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#a="$( $wax -f "rem_s" -a "i32:-5"         -a "i32:-2"       "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0xffffffff 4294967295 -1"
#a="$( $wax -f "rem_s" -a "i32:7"          -a "i32:3"        "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#a="$( $wax -f "rem_s" -a "i32:-7"         -a "i32:3"        "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0xffffffff 4294967295 -1"
#a="$( $wax -f "rem_s" -a "i32:7"          -a "i32:-3"       "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#a="$( $wax -f "rem_s" -a "i32:-7"         -a "i32:-3"       "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0xffffffff 4294967295 -1"
#a="$( $wax -f "rem_s" -a "i32:11"         -a "i32:5"        "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#a="$( $wax -f "rem_s" -a "i32:17"         -a "i32:7"        "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000003 3 3"
#
#set +e
#a="$( $wax -f "rem_u" -a "i32:1"          -a "i32:0"        "$spec_core_test/i32.wasm" 2>&1 )"; assert_contains "$a" "div by 0"
#a="$( $wax -f "rem_u" -a "i32:0"          -a "i32:0"        "$spec_core_test/i32.wasm" 2>&1 )"; assert_contains "$a" "div by 0"
#set -e
#a="$( $wax -f "rem_u" -a "i32:1"          -a "i32:1"        "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "rem_u" -a "i32:0"          -a "i32:1"        "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "rem_u" -a "i32:-1"         -a "i32:-1"       "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "rem_u" -a "i32:0x80000000" -a "i32:-1"       "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x80000000 2147483648 -2147483648"
#a="$( $wax -f "rem_u" -a "i32:0x80000000" -a "i32:2"        "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "rem_u" -a "i32:0x8ff00ff0" -a "i32:0x10001"  "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00008001 32769 32769"
#a="$( $wax -f "rem_u" -a "i32:0x80000001" -a "i32:1000"     "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000289 649 649"
#a="$( $wax -f "rem_u" -a "i32:5"          -a "i32:2"        "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#a="$( $wax -f "rem_u" -a "i32:-5"         -a "i32:2"        "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#a="$( $wax -f "rem_u" -a "i32:5"          -a "i32:-2"       "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000005 5 5"
#a="$( $wax -f "rem_u" -a "i32:-5"         -a "i32:-2"       "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0xfffffffb 4294967291 -5"
#a="$( $wax -f "rem_u" -a "i32:7"          -a "i32:3"        "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#a="$( $wax -f "rem_u" -a "i32:11"         -a "i32:5"        "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#a="$( $wax -f "rem_u" -a "i32:17"         -a "i32:7"        "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000003 3 3"
#
#a="$( $wax -f "and" -a "i32:1"          -a "i32:0"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "and" -a "i32:0"          -a "i32:1"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "and" -a "i32:1"          -a "i32:1"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#a="$( $wax -f "and" -a "i32:0"          -a "i32:0"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "and" -a "i32:0x7fffffff" -a "i32:0x80000000" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "and" -a "i32:0x7fffffff" -a "i32:-1"         "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x7fffffff 2147483647 2147483647"
#a="$( $wax -f "and" -a "i32:0xf0f0ffff" -a "i32:0xfffff0f0" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0xf0f0f0f0 4042322160 -252645136"
#a="$( $wax -f "and" -a "i32:0xffffffff" -a "i32:0xffffffff" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0xffffffff 4294967295 -1"
#
#a="$( $wax -f "or" -a "i32:1"          -a "i32:0"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#a="$( $wax -f "or" -a "i32:0"          -a "i32:1"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#a="$( $wax -f "or" -a "i32:1"          -a "i32:1"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#a="$( $wax -f "or" -a "i32:0"          -a "i32:0"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "or" -a "i32:0x7fffffff" -a "i32:0x80000000" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0xffffffff 4294967295 -1"
#a="$( $wax -f "or" -a "i32:0x80000000" -a "i32:0"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x80000000 2147483648 -2147483648"
#a="$( $wax -f "or" -a "i32:0xf0f0ffff" -a "i32:0xfffff0f0" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0xffffffff 4294967295 -1"
#a="$( $wax -f "or" -a "i32:0xffffffff" -a "i32:0xffffffff" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0xffffffff 4294967295 -1"
#
#a="$( $wax -f "xor" -a "i32:1"          -a "i32:0"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#a="$( $wax -f "xor" -a "i32:0"          -a "i32:1"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#a="$( $wax -f "xor" -a "i32:1"          -a "i32:1"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "xor" -a "i32:0"          -a "i32:0"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "xor" -a "i32:0x7fffffff" -a "i32:0x80000000" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0xffffffff 4294967295 -1"
#a="$( $wax -f "xor" -a "i32:0x80000000" -a "i32:0"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x80000000 2147483648 -2147483648"
#a="$( $wax -f "xor" -a "i32:-1"         -a "i32:0x80000000" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x7fffffff 2147483647 2147483647"
#a="$( $wax -f "xor" -a "i32:-1"         -a "i32:0x7fffffff" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x80000000 2147483648 -2147483648"
#a="$( $wax -f "xor" -a "i32:0xf0f0ffff" -a "i32:0xfffff0f0" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x0f0f0f0f 252645135 252645135"
#a="$( $wax -f "xor" -a "i32:0xffffffff" -a "i32:0xffffffff" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#
#a="$( $wax -f "shl" -a "i32:1"          -a "i32:1"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000002 2 2"
#a="$( $wax -f "shl" -a "i32:1"          -a "i32:0"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#a="$( $wax -f "shl" -a "i32:0x7fffffff" -a "i32:1"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0xfffffffe 4294967294 -2"
#a="$( $wax -f "shl" -a "i32:0xffffffff" -a "i32:1"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0xfffffffe 4294967294 -2"
#a="$( $wax -f "shl" -a "i32:0x80000000" -a "i32:1"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "shl" -a "i32:0x40000000" -a "i32:1"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x80000000 2147483648 -2147483648"
#a="$( $wax -f "shl" -a "i32:1"          -a "i32:31"         "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x80000000 2147483648 -2147483648"
#a="$( $wax -f "shl" -a "i32:1"          -a "i32:32"         "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#a="$( $wax -f "shl" -a "i32:1"          -a "i32:33"         "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000002 2 2"
#a="$( $wax -f "shl" -a "i32:1"          -a "i32:-1"         "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x80000000 2147483648 -2147483648"
#a="$( $wax -f "shl" -a "i32:1"          -a "i32:0x7fffffff" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x80000000 2147483648 -2147483648"
#
#a="$( $wax -f "shr_s" -a "i32:1"          -a "i32:1"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "shr_s" -a "i32:1"          -a "i32:0"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#a="$( $wax -f "shr_s" -a "i32:-1"         -a "i32:1"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0xffffffff 4294967295 -1"
#a="$( $wax -f "shr_s" -a "i32:0x7fffffff" -a "i32:1"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x3fffffff 1073741823 1073741823"
#a="$( $wax -f "shr_s" -a "i32:0x80000000" -a "i32:1"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0xc0000000 3221225472 -1073741824"
#a="$( $wax -f "shr_s" -a "i32:0x40000000" -a "i32:1"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x20000000 536870912 536870912"
#a="$( $wax -f "shr_s" -a "i32:1"          -a "i32:32"         "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#a="$( $wax -f "shr_s" -a "i32:1"          -a "i32:33"         "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "shr_s" -a "i32:1"          -a "i32:-1"         "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "shr_s" -a "i32:1"          -a "i32:0x7fffffff" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "shr_s" -a "i32:1"          -a "i32:0x80000000" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#a="$( $wax -f "shr_s" -a "i32:0x80000000" -a "i32:31"         "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0xffffffff 4294967295 -1"
#a="$( $wax -f "shr_s" -a "i32:-1"         -a "i32:32"         "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0xffffffff 4294967295 -1"
#a="$( $wax -f "shr_s" -a "i32:-1"         -a "i32:33"         "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0xffffffff 4294967295 -1"
#a="$( $wax -f "shr_s" -a "i32:-1"         -a "i32:-1"         "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0xffffffff 4294967295 -1"
#a="$( $wax -f "shr_s" -a "i32:-1"         -a "i32:0x7fffffff" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0xffffffff 4294967295 -1"
#a="$( $wax -f "shr_s" -a "i32:-1"         -a "i32:0x80000000" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0xffffffff 4294967295 -1"
#
#a="$( $wax -f "shr_u" -a "i32:1"          -a "i32:1"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "shr_u" -a "i32:1"          -a "i32:0"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#a="$( $wax -f "shr_u" -a "i32:-1"         -a "i32:1"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x7fffffff 2147483647 2147483647"
#a="$( $wax -f "shr_u" -a "i32:0x7fffffff" -a "i32:1"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x3fffffff 1073741823 1073741823"
#a="$( $wax -f "shr_u" -a "i32:0x80000000" -a "i32:1"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x40000000 1073741824 1073741824"
#a="$( $wax -f "shr_u" -a "i32:0x40000000" -a "i32:1"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x20000000 536870912 536870912"
#a="$( $wax -f "shr_u" -a "i32:1"          -a "i32:32"         "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#a="$( $wax -f "shr_u" -a "i32:1"          -a "i32:33"         "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "shr_u" -a "i32:1"          -a "i32:-1"         "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "shr_u" -a "i32:1"          -a "i32:0x7fffffff" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "shr_u" -a "i32:1"          -a "i32:0x80000000" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#a="$( $wax -f "shr_u" -a "i32:0x80000000" -a "i32:31"         "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#a="$( $wax -f "shr_u" -a "i32:-1"         -a "i32:32"         "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0xffffffff 4294967295 -1"
#a="$( $wax -f "shr_u" -a "i32:-1"         -a "i32:33"         "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x7fffffff 2147483647 2147483647"
#a="$( $wax -f "shr_u" -a "i32:-1"         -a "i32:-1"         "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#a="$( $wax -f "shr_u" -a "i32:-1"         -a "i32:0x7fffffff" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#a="$( $wax -f "shr_u" -a "i32:-1"         -a "i32:0x80000000" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0xffffffff 4294967295 -1"
#
#a="$( $wax -f "rotl" -a "i32:1"          -a "i32:1"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000002 2 2"
#a="$( $wax -f "rotl" -a "i32:1"          -a "i32:0"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#a="$( $wax -f "rotl" -a "i32:-1"         -a "i32:1"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0xffffffff 4294967295 -1"
#a="$( $wax -f "rotl" -a "i32:1"          -a "i32:32"         "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#a="$( $wax -f "rotl" -a "i32:0xabcd9876" -a "i32:1"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x579b30ed 1469788397 1469788397"
#a="$( $wax -f "rotl" -a "i32:0xfe00dc00" -a "i32:4"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0xe00dc00f 3758997519 -535969777"
#a="$( $wax -f "rotl" -a "i32:0xb0c1d2e3" -a "i32:5"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x183a5c76 406477942 406477942"
#a="$( $wax -f "rotl" -a "i32:0x00008000" -a "i32:37"         "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00100000 1048576 1048576"
#a="$( $wax -f "rotl" -a "i32:0xb0c1d2e3" -a "i32:0xff05"     "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x183a5c76 406477942 406477942"
#a="$( $wax -f "rotl" -a "i32:0x769abcdf" -a "i32:0xffffffed" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x579beed3 1469837011 1469837011"
#a="$( $wax -f "rotl" -a "i32:0x769abcdf" -a "i32:0x8000000d" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x579beed3 1469837011 1469837011"
#a="$( $wax -f "rotl" -a "i32:1"          -a "i32:31"         "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x80000000 2147483648 -2147483648"
#a="$( $wax -f "rotl" -a "i32:0x80000000" -a "i32:1"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#
#a="$( $wax -f "rotr" -a "i32:1"          -a "i32:1"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x80000000 2147483648 -2147483648"
#a="$( $wax -f "rotr" -a "i32:1"          -a "i32:0"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#a="$( $wax -f "rotr" -a "i32:-1"         -a "i32:1"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0xffffffff 4294967295 -1"
#a="$( $wax -f "rotr" -a "i32:1"          -a "i32:32"         "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#a="$( $wax -f "rotr" -a "i32:0xff00cc00" -a "i32:1"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x7f806600 2139121152 2139121152"
#a="$( $wax -f "rotr" -a "i32:0x00080000" -a "i32:4"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00008000 32768 32768"
#a="$( $wax -f "rotr" -a "i32:0xb0c1d2e3" -a "i32:5"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x1d860e97 495324823 495324823"
#a="$( $wax -f "rotr" -a "i32:0x00008000" -a "i32:37"         "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000400 1024 1024"
#a="$( $wax -f "rotr" -a "i32:0xb0c1d2e3" -a "i32:0xff05"     "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x1d860e97 495324823 495324823"
#a="$( $wax -f "rotr" -a "i32:0x769abcdf" -a "i32:0xffffffed" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0xe6fbb4d5 3875255509 -419711787"
#a="$( $wax -f "rotr" -a "i32:0x769abcdf" -a "i32:0x8000000d" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0xe6fbb4d5 3875255509 -419711787"
#a="$( $wax -f "rotr" -a "i32:1"          -a "i32:31"         "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000002 2 2"
#a="$( $wax -f "rotr" -a "i32:0x80000000" -a "i32:31"         "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#
#a="$( $wax -f "clz" -a "i32:0xffffffff" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "clz" -a "i32:0"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000020 32 32"
#a="$( $wax -f "clz" -a "i32:0x00008000" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000010 16 16"
#a="$( $wax -f "clz" -a "i32:0xff"       "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000018 24 24"
#a="$( $wax -f "clz" -a "i32:0x80000000" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "clz" -a "i32:1"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x0000001f 31 31"
#a="$( $wax -f "clz" -a "i32:2"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x0000001e 30 30"
#a="$( $wax -f "clz" -a "i32:0x7fffffff" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#
#a="$( $wax -f "ctz" -a "i32:-1"         "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "ctz" -a "i32:0"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000020 32 32"
#a="$( $wax -f "ctz" -a "i32:0x00008000" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x0000000f 15 15"
#a="$( $wax -f "ctz" -a "i32:0x00010000" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000010 16 16"
#a="$( $wax -f "ctz" -a "i32:0x80000000" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x0000001f 31 31"
#a="$( $wax -f "ctz" -a "i32:0x7fffffff" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#
#a="$( $wax -f "popcnt" -a "i32:-1"         "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000020 32 32"
#a="$( $wax -f "popcnt" -a "i32:0"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "popcnt" -a "i32:0x00008000" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#a="$( $wax -f "popcnt" -a "i32:0x80008000" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000002 2 2"
#a="$( $wax -f "popcnt" -a "i32:0x7fffffff" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x0000001f 31 31"
#a="$( $wax -f "popcnt" -a "i32:0xAAAAAAAA" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000010 16 16"
#a="$( $wax -f "popcnt" -a "i32:0x55555555" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000010 16 16"
#a="$( $wax -f "popcnt" -a "i32:0xDEADBEEF" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000018 24 24"
#
#a="$( $wax -f "eqz" -a "i32:0"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#a="$( $wax -f "eqz" -a "i32:1"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "eqz" -a "i32:0x80000000" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "eqz" -a "i32:0x7fffffff" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "eqz" -a "i32:0xffffffff" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#
#a="$( $wax -f "eq" -a "i32:0"          -a "i32:0"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#a="$( $wax -f "eq" -a "i32:1"          -a "i32:1"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#a="$( $wax -f "eq" -a "i32:-1"         -a "i32:1"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "eq" -a "i32:0x80000000" -a "i32:0x80000000" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#a="$( $wax -f "eq" -a "i32:0x7fffffff" -a "i32:0x7fffffff" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#a="$( $wax -f "eq" -a "i32:-1"         -a "i32:-1"         "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#a="$( $wax -f "eq" -a "i32:1"          -a "i32:0"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "eq" -a "i32:0"          -a "i32:1"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "eq" -a "i32:0x80000000" -a "i32:0"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "eq" -a "i32:0"          -a "i32:0x80000000" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "eq" -a "i32:0x80000000" -a "i32:-1"         "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "eq" -a "i32:-1"         -a "i32:0x80000000" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "eq" -a "i32:0x80000000" -a "i32:0x7fffffff" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "eq" -a "i32:0x7fffffff" -a "i32:0x80000000" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#
#a="$( $wax -f "ne" -a "i32:0"          -a "i32:0"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "ne" -a "i32:1"          -a "i32:1"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "ne" -a "i32:-1"         -a "i32:1"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#a="$( $wax -f "ne" -a "i32:0x80000000" -a "i32:0x80000000" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "ne" -a "i32:0x7fffffff" -a "i32:0x7fffffff" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "ne" -a "i32:-1"         -a "i32:-1"         "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
#a="$( $wax -f "ne" -a "i32:1"          -a "i32:0"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#a="$( $wax -f "ne" -a "i32:0"          -a "i32:1"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#a="$( $wax -f "ne" -a "i32:0x80000000" -a "i32:0"          "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#a="$( $wax -f "ne" -a "i32:0"          -a "i32:0x80000000" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#a="$( $wax -f "ne" -a "i32:0x80000000" -a "i32:-1"         "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#a="$( $wax -f "ne" -a "i32:-1"         -a "i32:0x80000000" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#a="$( $wax -f "ne" -a "i32:0x80000000" -a "i32:0x7fffffff" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#a="$( $wax -f "ne" -a "i32:0x7fffffff" -a "i32:0x80000000" "$spec_core_test/i32.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
#






a="$( $wax -f "add" -a "i32:123" -a "i32:234" "$d/examples/go/add/main.wasm" )"; assert_equal "$a" "0:i32:0x00000165 357 357"
a="$( $wax -f "sub" -a "i32:123" -a "i32:23"  "$d/examples/go/add/main.wasm" )"; assert_equal "$a" "0:i32:0x00000064 100 100"
a="$( $wax -f "sub" -a "i32:123" -a "i32:234" "$d/examples/go/add/main.wasm" )"; assert_equal "$a" "0:i32:0xffffff91 4294967185 -111"
a="$( $wax -f "mul" -a "i32:13"  -a "i32:17"  "$d/examples/go/add/main.wasm" )"; assert_equal "$a" "0:i32:0x000000dd 221 221"
a="$( $wax -f "div" -a "i32:10"  -a "i32:3"   "$d/examples/go/add/main.wasm" )"; assert_equal "$a" "0:i32:0x00000003 3 3"

a="$( $wax -f "fib" -a "i32:20" "$d/examples/go/fib/main.wasm" )"; assert_equal "$a" "0:i32:0x00001a6d 6765 6765"

a="$( $wax -f "add" -a "i32:123" -a "i32:234" "$d/examples/rust/add/main-stripped.wasm" )"; assert_equal "$a" "0:i32:0x00000165 357 357"
a="$( $wax -f "sub" -a "i32:123" -a "i32:23"  "$d/examples/rust/add/main-stripped.wasm" )"; assert_equal "$a" "0:i32:0x00000064 100 100"
a="$( $wax -f "sub" -a "i32:123" -a "i32:234" "$d/examples/rust/add/main-stripped.wasm" )"; assert_equal "$a" "0:i32:0xffffff91 4294967185 -111"
a="$( $wax -f "mul" -a "i32:13"  -a "i32:17"  "$d/examples/rust/add/main-stripped.wasm" )"; assert_equal "$a" "0:i32:0x000000dd 221 221"
a="$( $wax -f "div" -a "i32:10"  -a "i32:3" "$d/examples/rust/add/main-stripped.wasm" )"; assert_equal "$a" "0:i32:0x00000003 3 3"

a="$( $wax -f "block_test" -a "i32:10" -a "i32:20" "$d/examples/wat/block_test/main.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
a="$( $wax -f "block_test" -a "i32:0"  -a "i32:20" "$d/examples/wat/block_test/main.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
a="$( $wax -f "block_test" -a "i32:-1" -a "i32:20" "$d/examples/wat/block_test/main.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"
a="$( $wax -f "block_test" -a "i32:10" -a "i32:49" "$d/examples/wat/block_test/main.wasm" )"; assert_equal "$a" "0:i32:0x00000001 1 1"
a="$( $wax -f "block_test" -a "i32:10" -a "i32:50" "$d/examples/wat/block_test/main.wasm" )"; assert_equal "$a" "0:i32:0x00000000 0 0"

a="$( $wax -f "loop3" "$d/examples/wat/loop_test/main.wasm" )"; assert_equal "$a" "0:i32:0x00000003 3 3"

set +e
a="$( $wax -f "infinite_loop" -t 3 "$d/examples/go/loop/main.wasm"   2>&1 )"; assert_contains "$a" "context deadline exceeded"
a="$( $wax -f "infinite_loop" -t 3 "$d/examples/rust/loop/main.wasm" 2>&1 )"; assert_contains "$a" "context deadline exceeded"